#########################################
# Hydra SAML Auth (.env example)
#########################################

# Public base URL of this Hydra app
BASE_URL=https://hydra.newpaltz.edu

# Port to run Hydra on (inside container/VM)
PORT=6969

# Express session secret (use a long random string)
SESSION_SECRET=please-change-me-to-a-long-random-string

# Azure AD federation metadata URL for your Enterprise App
METADATA_URL=https://login.microsoftonline.com/<tenant-id>/federationmetadata/2007-06/federationmetadata.xml?appid=<your-app-id>

# Must match Azure "Identifier (Entity ID)" EXACTLY
SAML_SP_ENTITY_ID=hydra.newpaltz.edu

# Optional if you customize the callback path or full URL
# SAML_CALLBACK_PATH=/login/callback
# CALLBACK_URL=https://hydra.newpaltz.edu/login/callback

# Cookie + JWT settings
COOKIE_DOMAIN=hydra.newpaltz.edu
JWT_TTL_SECONDS=900
JWT_AUDIENCE=npsites
JWT_KEY_ID=hydra-key-1

# PEM file paths for stable keys (recommended for prod)
# If not provided, an ephemeral pair is generated on boot
JWT_PRIVATE_KEY_FILE=jwt-private.pem
JWT_PUBLIC_KEY_FILE=jwt-public.pem

# Remote OpenWebUI DB API settings
OPENWEBUI_API_BASE=http://chimera:7070/openwebui/api
OPENWEBUI_API_KEY=replace-with-a-strong-shared-secret

# Admin users (comma-separated email addresses)
ADMIN_USERS=admin@newpaltz.edu

#########################################
# Orchestration Mode
#########################################

# Set to 'kubernetes' for RKE2 cluster (production)
# Set to 'docker' for Docker Compose (legacy/dev only)
ORCHESTRATOR=kubernetes

# K8s namespace for student pods
K8S_NAMESPACE=hydra-students
K8S_SYSTEM_NAMESPACE=hydra-system

# Student container image (must exist in containerd)
STUDENT_IMAGE=hydra-student-container:latest

# K8s storage class for student volumes
K8S_STORAGE_CLASS=hydra-hot

#########################################
# Cluster Node Configuration
#########################################

# GPU node metrics endpoints
CHIMERA_HOST=192.168.1.150
CHIMERA_METRICS_PORT=9100
CERBERUS_HOST=192.168.1.242
CERBERUS_METRICS_PORT=9100

#########################################
# n8n Workflow Automation
#########################################

N8N_HOST=http://n8n.hydra-infra.svc.cluster.local:5678
N8N_API_KEY=replace-with-n8n-api-key
N8N_USER_MANAGER_API_KEY=replace-with-user-manager-key

#########################################
# Security Settings
#########################################

# Enable/disable automatic mining process enforcement
MINING_ENFORCEMENT_ENABLED=true

# Security stats check interval in milliseconds (default: 300000 = 5 min)
SECURITY_STATS_INTERVAL=300000

#########################################
# OpenWebUI DB API Server (on chimera)
#########################################

OPENWEBUI_API_PORT=7070
# DB_PATH=/absolute/path/to/openwebui.db
