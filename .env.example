#########################################
# Hydra SAML Auth (.env example)
#########################################

# Public base URL of this Hydra app
BASE_URL=https://hydra.newpaltz.edu

# Port to run Hydra on (inside container/VM)
PORT=6969

# Express session secret (use a long random string)
SESSION_SECRET=please-change-me-to-a-long-random-string

# Azure AD federation metadata URL for your Enterprise App
# Example (replace tenant ID and appId with yours):
METADATA_URL=https://login.microsoftonline.com/<tenant-id>/federationmetadata/2007-06/federationmetadata.xml?appid=<your-app-id>

# Must match Azure "Identifier (Entity ID)" EXACTLY as configured
# Examples:
# SAML_SP_ENTITY_ID=https://hydra.newpaltz.edu/
# SAML_SP_ENTITY_ID=urn:hydra.newpaltz.edu
SAML_SP_ENTITY_ID=hydra.newpaltz.edu

# Optional if you customize the callback path or full URL
# SAML_CALLBACK_PATH=/login/callback
# CALLBACK_URL=https://hydra.newpaltz.edu/login/callback

# Cookie + JWT settings for the sitewide token minted after SAML login
COOKIE_DOMAIN=hydra.newpaltz.edu
JWT_TTL_SECONDS=900
JWT_AUDIENCE=npsites
JWT_KEY_ID=hydra-key-1

# Provide PEM file paths if you want stable keys (recommended for prod)
# If not provided, an ephemeral pair is generated on boot
JWT_PRIVATE_KEY_FILE=jwt-private.pem
JWT_PUBLIC_KEY_FILE=jwt-public.pem

# Remote OpenWebUI DB API settings (Hydra will call this server)
# Base URL the Hydra router will use for DB operations
OPENWEBUI_API_BASE=http://chimera:7070/openwebui/api

# API key used to authenticate Hydra -> OpenWebUI API calls
# This must match the key configured on the OpenWebUI server
OPENWEBUI_API_KEY=replace-with-a-strong-shared-secret


#########################################
# OpenWebUI DB API Server (.env on chimera)
#########################################

# Port the dedicated OpenWebUI API server listens on
OPENWEBUI_API_PORT=7070

# Absolute path to the OpenWebUI SQLite database on chimera
# Example: /var/lib/openwebui/webui.db
DB_PATH=/absolute/path/to/openwebui.db

# The same shared API key as above (must match Hydra)
# Only set this on the chimera host running openwebui-api.js
# OPENWEBUI_API_KEY=replace-with-a-strong-shared-secret
